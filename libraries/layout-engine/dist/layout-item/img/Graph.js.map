{"version":3,"file":"Graph.js","sourceRoot":"","sources":["../../../src/layout-item/img/Graph.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAEH,OAAO,EAAE,cAAc,EAAE,MAAM,eAAe,CAAA;AAE9C,OAAO,EAAE,IAAI,EAAiD,kBAAkB,EAAE,MAAM,SAAS,CAAA;AAOjG,MAAM,OAAO,KAAM,SAAQ,IAAI;IAC7B,cAAc,GAAG,kBAAkB,CAAC,KAAK,CAAA;IACzC,YAAY,GAAG,KAAK,CAAA;IAEpB,GAAG,CAAQ;IAEX,eAAe,CAAoB;IAEnC,YAAY,EAAE,GAAG,EAAE,eAAe,EAAkB;QAClD,KAAK,EAAE,CAAA;QAEP,IAAI,CAAC,GAAG;YAAE,MAAM,IAAI,KAAK,CAAC,iBAAiB,CAAC,CAAA;QAE5C,IAAI,CAAC,GAAG,GAAG,GAAG,CAAA;QACd,IAAI,CAAC,eAAe,GAAG,eAAe,CAAA;IACxC,CAAC;IAED,KAAK,CAAC,IAAI;QACR,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG,MAAM,IAAI,CAAC,WAAW,EAAE,CAAA;QAClD,IAAI,CAAC,KAAK,GAAG,KAAK,CAAA;QAClB,IAAI,CAAC,MAAM,GAAG,MAAM,CAAA;IACtB,CAAC;IAED,KAAK,CAAC,WAAW;QACf,OAAO,MAAM,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA;IACvC,CAAC;CACF","sourcesContent":["/**\n * @author GuangHui\n * @description 图片类\n */\n\nimport { measureImgSize } from '@doonce/utils'\n\nimport { Base, IImgSurround, ImgSurrounTypeEnum, IPos, ISize, LayoutItemTypeEnum } from '../base'\n\nexport type GraphCtrParams = {\n  src: string\n  imgSurroundType: ImgSurrounTypeEnum\n}\n\nexport class Graph extends Base implements IImgSurround {\n  layoutItemType = LayoutItemTypeEnum.GRAPH\n  canLineBreak = false\n\n  src: string\n\n  imgSurroundType: ImgSurrounTypeEnum\n\n  constructor({ src, imgSurroundType }: GraphCtrParams) {\n    super()\n\n    if (!src) throw new Error('src is required')\n\n    this.src = src\n    this.imgSurroundType = imgSurroundType\n  }\n\n  async init() {\n    const { width, height } = await this.measureSize()\n    this.width = width\n    this.height = height\n  }\n\n  async measureSize(): Promise<ISize> {\n    return await measureImgSize(this.src)\n  }\n}\n"]}