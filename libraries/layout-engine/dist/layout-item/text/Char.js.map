{"version":3,"file":"Char.js","sourceRoot":"","sources":["../../../src/layout-item/text/Char.ts"],"names":[],"mappings":"AAAA;;;GAGG;AAEH,OAAO,EAAE,cAAc,EAAE,kBAAkB,EAAE,MAAM,iBAAiB,CAAA;AAEpE,OAAO,EAAE,IAAI,EAAE,kBAAkB,EAAyB,MAAM,SAAS,CAAA;AAEzE,MAAM,OAAO,IAAK,SAAQ,IAAI;IAC5B,cAAc,GAAuB,kBAAkB,CAAC,IAAI,CAAA;IAC5D,YAAY,GAAY,KAAK,CAAA;IAE7B,UAAU,CAAQ;IAClB,OAAO,CAAQ;IAEf,iBAAiB,CAAmB;IAEpC,YAAY,UAAkB,EAAE,iBAAoC;QAClE,KAAK,EAAE,CAAA;QAEP,IAAI,CAAC,UAAU,GAAG,UAAU,CAAA;QAC5B,IAAI,CAAC,OAAO,GAAG,UAAU,CAAA,CAAC,2BAA2B;QAErD,IAAI,CAAC,iBAAiB,GAAG,iBAAiB,CAAA;IAC5C,CAAC;IAED,WAAW;QACT,MAAM,WAAW,GAAG;YAClB,GAAG,IAAI,CAAC,iBAAiB;YACzB,UAAU,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,UAAU,IAAI;SACrD,CAAA;QACD,MAAM,EAAE,KAAK,EAAE,GAAG,kBAAkB,CAAC,IAAI,CAAC,OAAO,EAAE,cAAc,CAAC,WAAW,CAAC,CAAC,CAAA;QAE/E,OAAO;YACL,KAAK;YACL,MAAM,EAAE,IAAI,CAAC,iBAAiB,CAAC,UAAU;SAC1C,CAAA;IACH,CAAC;CACF","sourcesContent":["/**\n * @author GuangHui\n * @description 单字符\n */\n\nimport { getCssFontDesc, measureTextMetrics } from '@doonce/utils/*'\nimport { GlobalFontOptions } from '../../DoonceLayoutEngine'\nimport { Base, LayoutItemTypeEnum, IContent, IPos, ISize } from '../base'\n\nexport class Char extends Base implements IContent {\n  layoutItemType: LayoutItemTypeEnum = LayoutItemTypeEnum.CHAR\n  canLineBreak: boolean = false\n\n  rawContent: string\n  content: string\n\n  globalFontOptions: GlobalFontOptions\n\n  constructor(rawContent: string, globalFontOptions: GlobalFontOptions) {\n    super()\n\n    this.rawContent = rawContent\n    this.content = rawContent /** 单个字符的渲染内容和原始内容应该保持一致 */\n\n    this.globalFontOptions = globalFontOptions\n  }\n\n  measureSize(): ISize {\n    const fontDescObj = {\n      ...this.globalFontOptions,\n      lineHeight: `${this.globalFontOptions.lineHeight}px`\n    }\n    const { width } = measureTextMetrics(this.content, getCssFontDesc(fontDescObj))\n\n    return {\n      width,\n      height: this.globalFontOptions.lineHeight\n    }\n  }\n}\n"]}