{"version":3,"file":"raf-animation.js","sourceRoot":"","sources":["../src/raf-animation.ts"],"names":[],"mappings":";AAAA;;;GAGG;;;AAEH,+BAAgC;AAChC;;;;;;GAMG;AACH,SAAgB,OAAO,CAAC,OAAY,EAAE,OAAgB;IACpD,kCAAkC;IAClC,IAAI,KAAK,GAAG,KAAK,EACf,KAAK,GAAG,CAAC,CAAC,CACX;IAAA,CAAC,SAAS,OAAO;QAChB,+DAA+D;QAC/D,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;QAC7B,KAAK,GAAG,IAAA,SAAG,EAAC,OAAO,CAAC,CAAA;QACpB,IAAI,KAAK,EAAE;YACT,IAAA,SAAG,EAAC,KAAK,CAAC,CAAA;SACX;IACH,CAAC,CAAC,EAAE,CAAA;AACN,CAAC;AAZD,0BAYC","sourcesContent":["/**\n * @author GuangHui\n * @description requestAnimationFrame动画\n */\n\nimport { caf, raf } from './raf'\n/**\n *\n * requestAnimationFrame动画\n * @export\n * @param {Function} frameFn 步进函数，需要返回一个布尔值\n * @param {Object} context frameFn的执行上下文\n */\nexport function rafAnim(frameFn: any, context: unknown) {\n  // requestAnimationFrame的递归调用的启动函数\n  var isEnd = false,\n    RAFId = -1\n  ;(function rafLoop() {\n    // 通过具名自执行函数，完成requestAnimationFrame的递归调用，frameFn需要返回动画是否完成的标志量\n    isEnd = frameFn.call(context)\n    RAFId = raf(rafLoop)\n    if (isEnd) {\n      caf(RAFId)\n    }\n  })()\n}\n"]}